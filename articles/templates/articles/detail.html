{%extends "layouts/default.html"%}

{%block content%}
<div class="flex flex-row gap-2">
  <a class="btn btn-sm btn-accent" href="{%url 'articles:edit' article.id%}"
    >Edit</a
  >
  <!-- a 標籤只有get，沒有delete，所以要用form包起來 -->
  <form action="{%url 'articles:detail' article.id%}" method="post">
    {% csrf_token %}
    <input type="hidden" name="_method" value="delete" />
    <button class="btn btn-sm btn-error" href="">Delete</button>
  </form>
</div>

<h1 class="text-3xl mt-4 text-primary mb-2">{{article.title}}</h1>
<article class="mb-4">{{article.content | linebreaksbr}}</article>

<hr>
<h3 class="text-2xl">Comment Section</h3>

<form action="{%url 'articles:create_comment' article.id%}" method="post" class="mt-4">
  {% for field in comment_form%}
  {% csrf_token %}
  <!-- 也可以用這個單獨指定的方式去寫 -->
  {{comment_form.content.label_tag}}
  {{comment_form.content}}
  {%endfor%}
  <button class="btn btn-primary mt-4">Send</button>
</form>

<ul>
  {%for comment in comments%}
    {%include "comments/comment.html"%}
  {%endfor%}
</ul>


{%endblock%}
